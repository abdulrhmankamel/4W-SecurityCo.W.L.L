document.addEventListener("DOMContentLoaded", () => {
  // Get language switching elements
  const langBtn = document.getElementById("lang-btn");
  const langList = document.getElementById("lang-list");
  const langOptions = langList.querySelectorAll("li");

  // Function to toggle dropdown
  function toggleDropdown(show) {
    langList.classList.toggle("show", show);
    langBtn.setAttribute("aria-expanded", show);
  }

  // Get all translatable elements
  const elements = {
    // Common Navigation Elements
    navHome: document.getElementById("nav-home"),
    navAbout: document.getElementById("nav-about"),
    navContact: document.getElementById("nav-contact"),
    footerText: document.getElementById("footer-text"),

    // Home Page Elements
    welcomeText: document.querySelector(".welcome-text"),
    companyName: document.querySelector(".company-name"),
    heroSubtitle: document.getElementById("hero-subtitle"),
    aboutTitle: document.getElementById("about-title"),
    aboutText: document.getElementById("about-text"),
    featureProfessional: document.getElementById("feature-professional"),
    featureSupport: document.getElementById("feature-support"),
    featureModern: document.getElementById("feature-modern"),
    featureQuality: document.getElementById("feature-quality"),
    whyChooseTitle: document.getElementById("why-choose-title"),
    expertSecurityTitle: document.getElementById("expert-security-title"),
    expertSecurityText: document.getElementById("expert-security-text"),
    premiumCleaningTitle: document.getElementById("premium-cleaning-title"),
    premiumCleaningText: document.getElementById("premium-cleaning-text"),
    fastResponseTitle: document.getElementById("fast-response-title"),
    fastResponseText: document.getElementById("fast-response-text"),
    reliableServiceTitle: document.getElementById("reliable-service-title"),
    reliableServiceText: document.getElementById("reliable-service-text"),
    statsClientsTitle: document.getElementById("stats-clients-title"),
    statsClientsValue: document.getElementById("stats-clients-value"),
    statsStaffTitle: document.getElementById("stats-staff-title"),
    statsStaffValue: document.getElementById("stats-staff-value"),
    statsExperienceTitle: document.getElementById("stats-experience-title"),
    statsExperienceValue: document.getElementById("stats-experience-value"),
    statsSupportTitle: document.getElementById("stats-support-title"),
    statsSupportValue: document.getElementById("stats-support-value"),
    servicesTitle: document.getElementById("services-title"),
    cleaningTitle: document.getElementById("cleaning-title"),
    cleaningText: document.getElementById("cleaning-text"),
    cleaningButton: document.getElementById("cleaning-button"),
    securityTitle: document.getElementById("security-title"),
    securityText: document.getElementById("security-text"),
    securityButton: document.getElementById("security-button"),
    contactTitle: document.getElementById("contact-title"),
    contactText: document.getElementById("contact-text"),
    inputName: document.getElementById("input-name"),
    inputEmail: document.getElementById("input-email"),
    inputMessage: document.getElementById("input-message"),
    submitBtn: document.getElementById("submit-btn"),

    // Cleaning Page Elements
    cleaningHeroTitle: document.getElementById("cleaning-hero-title"),
    cleaningHeroText: document.getElementById("cleaning-hero-text"),
    commercialTitle: document.getElementById("commercial-title"),
    commercial1: document.getElementById("commercial-1"),
    commercial2: document.getElementById("commercial-2"),
    commercial3: document.getElementById("commercial-3"),
    commercial4: document.getElementById("commercial-4"),
    residentialTitle: document.getElementById("residential-title"),
    residential1: document.getElementById("residential-1"),
    residential2: document.getElementById("residential-2"),
    residential3: document.getElementById("residential-3"),
    residential4: document.getElementById("residential-4"),
    specializedTitle: document.getElementById("specialized-title"),
    specialized1: document.getElementById("specialized-1"),
    specialized2: document.getElementById("specialized-2"),
    specialized3: document.getElementById("specialized-3"),
    specialized4: document.getElementById("specialized-4"),
    ecoTitle: document.getElementById("eco-title"),
    ecoText: document.getElementById("eco-text"),

    // Security Page Elements
    securityHeroTitle: document.getElementById("security-hero-title"),
    securityHeroText: document.getElementById("security-hero-text"),
    guardTitle: document.getElementById("guard-title"),
    guard1: document.getElementById("guard-1"),
    guard2: document.getElementById("guard-2"),
    guard3: document.getElementById("guard-3"),
    guard4: document.getElementById("guard-4"),
    techTitle: document.getElementById("tech-title"),
    tech1: document.getElementById("tech-1"),
    tech2: document.getElementById("tech-2"),
    tech3: document.getElementById("tech-3"),
    tech4: document.getElementById("tech-4"),
    facilityTitle: document.getElementById("facility-title"),
    facility1: document.getElementById("facility-1"),
    facility2: document.getElementById("facility-2"),
    facility3: document.getElementById("facility-3"),
    facility4: document.getElementById("facility-4"),
    techSolutionsTitle: document.getElementById("tech-solutions-title"),
    techSolutionsText: document.getElementById("tech-solutions-text"),
    responseTitle: document.getElementById("response-title"),
    responseText: document.getElementById("response-text"),
    industriesTitle: document.getElementById("industries-title"),
    eventsTitle: document.getElementById("events-title"),
    eventsText: document.getElementById("events-text"),
    industrialTitle: document.getElementById("industrial-title"),
    industrialText: document.getElementById("industrial-text"),

    // Common Elements
    trainedTitle: document.getElementById("trained-title"),
    trainedText: document.getElementById("trained-text"),
    customTitle: document.getElementById("custom-title"),
    customText: document.getElementById("custom-text"),
    phoneButton: document.getElementById("phone-button"),
    whatsappButton: document.getElementById("whatsapp-button")
  };

  const translations = {
    eng: {
      dir: "ltr",
      navHome: "Home",
      navAbout: "About",
      navContact: "Contact",
      welcomeText: "WELCOME TO",
      companyName: "4W",
      heroSubtitle: "Your trusted partner in modern security and cleaning solutions.",
      aboutTitle: "About Us",
      aboutText: "4W Security Co. W.L.L. is a leading provider of comprehensive security and cleaning services based in Manama, Kingdom of Bahrain. With a commitment to excellence, integrity, and innovation, 4W Security delivers tailored solutions to both public and private sectors.",
      featureProfessional: "Professional Team",
      featureSupport: "24/7 Support",
      featureModern: "Modern Solutions",
      featureQuality: "Quality Service",
      whyChooseTitle: "Why Choose Us",
      expertSecurityTitle: "Expert Security",
      expertSecurityText: "Trained professionals using latest security technologies",
      premiumCleaningTitle: "Premium Cleaning",
      premiumCleaningText: "Eco-friendly cleaning with attention to detail",
      fastResponseTitle: "Fast Response",
      fastResponseText: "Quick response times to all service requests",
      reliableServiceTitle: "Reliable Service",
      reliableServiceText: "Consistent and dependable service delivery",
      statsClientsTitle: "Clients Served",
      statsClientsValue: "500+",
      statsStaffTitle: "Expert Staff",
      statsStaffValue: "50+",
      statsExperienceTitle: "Years Experience",
      statsExperienceValue: "10+",
      statsSupportTitle: "Support Available",
      statsSupportValue: "24/7",
      servicesTitle: "Our Services",
      cleaningTitle: "Cleaning Service",
      cleaningText: "Our expert cleaning team ensures your premises are spotless, safe, and well-maintained with eco-friendly solutions.",
      cleaningButton: "Know More",
      securityTitle: "Security Service",
      securityText: "Professional guards and surveillance to protect your property and people around the clock.",
      securityButton: "Know More",
      contactTitle: "Contact",
      inputName: "Your Name",
      inputEmail: "Your Email",
      inputMessage: "Your Message",
      submitBtn: "Send Message",
      footerText: "Â© 2025 4W. All rights reserved.",
      langBtnText: "ENG",
      cleaningHeroTitle: "Professional Cleaning Services",
      cleaningHeroText: "Experience excellence in cleanliness with our comprehensive cleaning solutions tailored to your needs.",
      commercialTitle: "Commercial Cleaning",
      commercial1: "Office buildings and workspaces",
      commercial2: "Retail stores and shopping centers",
      commercial3: "Hotels and hospitality venues",
      commercial4: "Regular maintenance programs",
      residentialTitle: "Residential Cleaning",
      residential1: "Homes and apartments",
      residential2: "Move-in/move-out cleaning",
      residential3: "Deep cleaning services",
      residential4: "Customized cleaning plans",
      specializedTitle: "Specialized Cleaning",
      specialized1: "Medical facilities",
      specialized2: "Educational institutions",
      specialized3: "Industrial spaces",
      specialized4: "Post-construction cleanup",
      ecoTitle: "Eco-Friendly Solutions",
      ecoText: "We use environmentally responsible cleaning products and methods to protect both your space and the planet.",
      securityHeroTitle: "Professional Security Services",
      securityHeroText: "Comprehensive security solutions to protect what matters most to you.",
      guardTitle: "Security Guards",
      guard1: "Trained security personnel",
      guard2: "24/7 surveillance",
      guard3: "Access control management",
      guard4: "Emergency response",
      techTitle: "Security Technology",
      tech1: "CCTV installation",
      tech2: "Alarm systems",
      tech3: "Access control systems",
      tech4: "Remote monitoring",
      facilityTitle: "Facility Security",
      facility1: "Building security",
      facility2: "Event security",
      facility3: "Perimeter protection",
      facility4: "Risk assessment",
      techSolutionsTitle: "Advanced Technology",
      techSolutionsText: "State-of-the-art security systems and monitoring solutions.",
      responseTitle: "Quick Response",
      responseText: "24/7 monitoring and rapid response to security incidents.",
      industriesTitle: "Industries We Serve",
      eventsTitle: "Events",
      eventsText: "Conferences, exhibitions, and special occasions",
      industrialTitle: "Industrial",
      industrialText: "Factories, warehouses, and industrial facilities",
      trainedTitle: "Trained Professionals",
      trainedText: "Our staff undergoes rigorous training to deliver consistent, high-quality service.",
      customTitle: "Customized Solutions",
      customText: "We develop programs tailored to your specific needs and requirements.",
      phoneButton: "Call Us Now",
      whatsappButton: "WhatsApp"
    },
    ar: {
      dir: "rtl",
      navHome: "Ø§ÙØ±Ø¦ÙØ³ÙØ©",
      navAbout: "ÙÙ ÙØ­Ù",
      navContact: "Ø§ØªØµÙ Ø¨ÙØ§",
      welcomeText: "ÙØ±Ø­Ø¨Ø§Ù Ø¨ÙÙ ÙÙ",
      companyName: "4W",
      heroSubtitle: "Ø´Ø±ÙÙÙÙ Ø§ÙÙÙØ«ÙÙ Ø¨Ù ÙÙ Ø­ÙÙÙ Ø§ÙØ£ÙÙ ÙØ§ÙÙØ¸Ø§ÙØ© Ø§ÙØ­Ø¯ÙØ«Ø©",
      aboutTitle: "ÙÙ ÙØ­Ù",
      aboutText: "Ø´Ø±ÙØ© 4W ÙÙØ£ÙÙ Ø°.Ù.Ù. ÙÙ Ø´Ø±ÙØ© Ø±Ø§Ø¦Ø¯Ø© ÙÙ ØªÙØ¯ÙÙ Ø®Ø¯ÙØ§Øª Ø§ÙØ£ÙÙ ÙØ§ÙÙØ¸Ø§ÙØ© Ø§ÙØ´Ø§ÙÙØ© ÙÙÙØ±ÙØ§ ÙÙ Ø§ÙÙÙØ§ÙØ©Ø ÙÙÙÙØ© Ø§ÙØ¨Ø­Ø±ÙÙ. ÙØ¹ Ø§ÙØªØ²Ø§ÙÙØ§ Ø¨Ø§ÙØªÙÙØ² ÙØ§ÙÙØ²Ø§ÙØ© ÙØ§ÙØ§Ø¨ØªÙØ§Ø±Ø ØªÙØ¯Ù 4W ÙÙØ£ÙÙ Ø­ÙÙÙØ§Ù ÙØ®ØµØµØ© ÙÙÙØ·Ø§Ø¹ÙÙ Ø§ÙØ¹Ø§Ù ÙØ§ÙØ®Ø§Øµ.",
      featureProfessional: "ÙØ±ÙÙ ÙØ­ØªØ±Ù",
      featureSupport: "Ø¯Ø¹Ù Ø¹ÙÙ ÙØ¯Ø§Ø± Ø§ÙØ³Ø§Ø¹Ø©",
      featureModern: "Ø­ÙÙÙ Ø­Ø¯ÙØ«Ø©",
      featureQuality: "Ø®Ø¯ÙØ© Ø¹Ø§ÙÙØ© Ø§ÙØ¬ÙØ¯Ø©",
      whyChooseTitle: "ÙÙØ§Ø°Ø§ ØªØ®ØªØ§Ø±ÙØ§",
      expertSecurityTitle: "Ø®Ø¨Ø±Ø§Ø¡ Ø§ÙØ£ÙÙ",
      expertSecurityText: "ÙØªØ®ØµØµÙÙ ÙØ¯Ø±Ø¨ÙÙ ÙØ³ØªØ®Ø¯ÙÙÙ Ø£Ø­Ø¯Ø« ØªÙÙÙØ§Øª Ø§ÙØ£ÙÙ",
      premiumCleaningTitle: "ØªÙØ¸ÙÙ ÙØªÙÙØ²",
      premiumCleaningText: "ØªÙØ¸ÙÙ ØµØ¯ÙÙ ÙÙØ¨ÙØ¦Ø© ÙØ¹ Ø§ÙØ§ÙØªÙØ§Ù Ø¨Ø§ÙØªÙØ§ØµÙÙ",
      fastResponseTitle: "Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø³Ø±ÙØ¹Ø©",
      fastResponseText: "Ø³Ø±Ø¹Ø© Ø§ÙØ§Ø³ØªØ¬Ø§Ø¨Ø© ÙØ¬ÙÙØ¹ Ø·ÙØ¨Ø§Øª Ø§ÙØ®Ø¯ÙØ©",
      reliableServiceTitle: "Ø®Ø¯ÙØ© ÙÙØ«ÙÙØ©",
      reliableServiceText: "ØªÙØ¯ÙÙ Ø®Ø¯ÙØ© ÙØªÙØ§Ø³ÙØ© ÙÙÙÙÙ Ø§ÙØ§Ø¹ØªÙØ§Ø¯ Ø¹ÙÙÙØ§",
      statsClientsTitle: "Ø¹ÙÙÙ",
      statsClientsValue: "+500",
      statsStaffTitle: "ÙÙØ¸Ù Ø®Ø¨ÙØ±",
      statsStaffValue: "+50",
      statsExperienceTitle: "Ø³ÙÙØ§Øª Ø®Ø¨Ø±Ø©",
      statsExperienceValue: "+10",
      statsSupportTitle: "Ø¯Ø¹Ù ÙØªÙÙØ±",
      statsSupportValue: "24/7",
      servicesTitle: "Ø®Ø¯ÙØ§ØªÙØ§",
      cleaningTitle: "Ø®Ø¯ÙØ§Øª Ø§ÙÙØ¸Ø§ÙØ©",
      cleaningText: "ÙØ±ÙÙ Ø§ÙØªÙØ¸ÙÙ Ø§ÙÙØ­ØªØ±Ù ÙØ¯ÙÙØ§ ÙØ¶ÙÙ ÙØ¸Ø§ÙØ© ÙØ³ÙØ§ÙØ© ÙØµÙØ§ÙØ© ÙÙØ´Ø¢ØªÙÙ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù Ø­ÙÙÙ ØµØ¯ÙÙØ© ÙÙØ¨ÙØ¦Ø©",
      cleaningButton: "Ø§Ø¹Ø±Ù Ø§ÙÙØ²ÙØ¯",
      securityTitle: "Ø§ÙØ®Ø¯ÙØ§Øª Ø§ÙØ£ÙÙÙØ©",
      securityText: "Ø­Ø±Ø§Ø³ Ø£ÙÙ ÙØ­ØªØ±ÙÙÙ ÙØ£ÙØ¸ÙØ© ÙØ±Ø§ÙØ¨Ø© ÙØ­ÙØ§ÙØ© ÙÙØªÙÙØ§ØªÙÙ ÙØ§ÙØ£ÙØ±Ø§Ø¯ Ø¹ÙÙ ÙØ¯Ø§Ø± Ø§ÙØ³Ø§Ø¹Ø©",
      securityButton: "Ø§Ø¹Ø±Ù Ø§ÙÙØ²ÙØ¯",
      contactTitle: "Ø§ØªØµÙ Ø¨ÙØ§",
      inputName: "Ø§ÙØ§Ø³Ù",
      inputEmail: "Ø§ÙØ¨Ø±ÙØ¯ Ø§ÙØ¥ÙÙØªØ±ÙÙÙ",
      inputMessage: "Ø§ÙØ±Ø³Ø§ÙØ©",
      submitBtn: "Ø¥Ø±Ø³Ø§Ù",
      footerText: "Â© 2025 4W. Ø¬ÙÙØ¹ Ø§ÙØ­ÙÙÙ ÙØ­ÙÙØ¸Ø©",
      langBtnText: "Ø¹Ø±Ø¨Ù",
      cleaningHeroTitle: "Ø®Ø¯ÙØ§Øª Ø§ÙØªÙØ¸ÙÙ Ø§ÙÙØ­ØªØ±ÙØ©",
      cleaningHeroText: "ØªØ¬Ø±Ø¨Ø© Ø§ÙØªÙÙØ² ÙÙ Ø§ÙÙØ¸Ø§ÙØ© ÙØ¹ Ø­ÙÙÙÙØ§ Ø§ÙØ´Ø§ÙÙØ© Ø§ÙÙØµÙÙØ© Ø®ØµÙØµØ§Ù ÙØªÙØ¨ÙØ© Ø§Ø­ØªÙØ§Ø¬Ø§ØªÙÙ.",
      commercialTitle: "ØªÙØ¸ÙÙ ØªØ¬Ø§Ø±Ù",
      commercial1: "Ø§ÙÙØ¨Ø§ÙÙ Ø§ÙÙÙØªØ¨ÙØ© ÙØ£ÙØ§ÙÙ Ø§ÙØ¹ÙÙ",
      commercial2: "Ø§ÙÙØªØ§Ø¬Ø± ÙÙØ±Ø§ÙØ² Ø§ÙØªØ³ÙÙ",
      commercial3: "Ø§ÙÙÙØ§Ø¯Ù ÙÙØ±Ø§ÙÙ Ø§ÙØ¶ÙØ§ÙØ©",
      commercial4: "Ø¨Ø±Ø§ÙØ¬ Ø§ÙØµÙØ§ÙØ© Ø§ÙÙÙØªØ¸ÙØ©",
      residentialTitle: "ØªÙØ¸ÙÙ Ø³ÙÙÙ",
      residential1: "Ø§ÙÙÙØ§Ø²Ù ÙØ§ÙØ´ÙÙ",
      residential2: "ØªÙØ¸ÙÙ ÙØ§ ÙØ¨Ù ÙØ¨Ø¹Ø¯ Ø§ÙØ§ÙØªÙØ§Ù",
      residential3: "Ø®Ø¯ÙØ§Øª Ø§ÙØªÙØ¸ÙÙ Ø§ÙØ¹ÙÙÙ",
      residential4: "Ø®Ø·Ø· ØªÙØ¸ÙÙ ÙØ®ØµØµØ©",
      specializedTitle: "ØªÙØ¸ÙÙ ÙØªØ®ØµØµ",
      specialized1: "Ø§ÙÙØ±Ø§ÙÙ Ø§ÙØ·Ø¨ÙØ©",
      specialized2: "Ø§ÙÙØ¤Ø³Ø³Ø§Øª Ø§ÙØªØ¹ÙÙÙÙØ©",
      specialized3: "Ø§ÙÙØ³Ø§Ø­Ø§Øª Ø§ÙØµÙØ§Ø¹ÙØ©",
      specialized4: "ØªÙØ¸ÙÙ ÙØ§ Ø¨Ø¹Ø¯ Ø§ÙØ¨ÙØ§Ø¡",
      ecoTitle: "Ø­ÙÙÙ ØµØ¯ÙÙØ© ÙÙØ¨ÙØ¦Ø©",
      ecoText: "ÙØ³ØªØ®Ø¯Ù ÙÙØªØ¬Ø§Øª ÙØ·Ø±Ù ØªÙØ¸ÙÙ ÙØ³Ø¤ÙÙØ© Ø¨ÙØ¦ÙØ§Ù ÙØ­ÙØ§ÙØ© ÙØ³Ø§Ø­ØªÙ ÙÙÙÙØ¨ÙØ§.",
      securityHeroTitle: "Ø®Ø¯ÙØ§Øª Ø§ÙØ£ÙÙ Ø§ÙÙØ­ØªØ±ÙØ©",
      securityHeroText: "Ø­ÙÙÙ Ø£ÙÙÙØ© Ø´Ø§ÙÙØ© ÙØ­ÙØ§ÙØ© ÙØ§ ÙÙÙÙ.",
      guardTitle: "Ø­Ø±Ø§Ø³ Ø§ÙØ£ÙÙ",
      guard1: "Ø£ÙØ±Ø§Ø¯ Ø£ÙÙ ÙØ¯Ø±Ø¨ÙÙ",
      guard2: "ÙØ±Ø§ÙØ¨Ø© Ø¹ÙÙ ÙØ¯Ø§Ø± Ø§ÙØ³Ø§Ø¹Ø©",
      guard3: "Ø¥Ø¯Ø§Ø±Ø© Ø§ÙØªØ­ÙÙ ÙÙ Ø§ÙØ¯Ø®ÙÙ",
      guard4: "Ø§ÙØ§Ø³ØªØ¬Ø§Ø¨Ø© ÙÙØ·ÙØ§Ø±Ø¦",
      techTitle: "Ø§ÙØªÙÙÙÙÙØ¬ÙØ§ Ø§ÙØ£ÙÙÙØ©",
      tech1: "ØªØ±ÙÙØ¨ ÙØ§ÙÙØ±Ø§Øª Ø§ÙÙØ±Ø§ÙØ¨Ø©",
      tech2: "Ø£ÙØ¸ÙØ© Ø§ÙØ¥ÙØ°Ø§Ø±",
      tech3: "Ø£ÙØ¸ÙØ© Ø§ÙØªØ­ÙÙ ÙÙ Ø§ÙØ¯Ø®ÙÙ",
      tech4: "Ø§ÙÙØ±Ø§ÙØ¨Ø© Ø¹Ù Ø¨Ø¹Ø¯",
      facilityTitle: "Ø£ÙÙ Ø§ÙÙÙØ´Ø¢Øª",
      facility1: "Ø£ÙÙ Ø§ÙÙØ¨Ø§ÙÙ",
      facility2: "Ø£ÙÙ Ø§ÙÙØ¹Ø§ÙÙØ§Øª",
      facility3: "Ø­ÙØ§ÙØ© Ø§ÙÙØ­ÙØ·",
      facility4: "ØªÙÙÙÙ Ø§ÙÙØ®Ø§Ø·Ø±",
      techSolutionsTitle: "ØªÙÙÙÙÙØ¬ÙØ§ ÙØªÙØ¯ÙØ©",
      techSolutionsText: "Ø£Ø­Ø¯Ø« Ø£ÙØ¸ÙØ© ÙØ­ÙÙÙ Ø§ÙÙØ±Ø§ÙØ¨Ø© Ø§ÙØ£ÙÙÙØ©.",
      responseTitle: "Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø³Ø±ÙØ¹Ø©",
      responseText: "ÙØ±Ø§ÙØ¨Ø© ÙØ§Ø³ØªØ¬Ø§Ø¨Ø© Ø³Ø±ÙØ¹Ø© ÙÙØ­ÙØ§Ø¯Ø« Ø§ÙØ£ÙÙÙØ© Ø¹ÙÙ ÙØ¯Ø§Ø± Ø§ÙØ³Ø§Ø¹Ø©.",
      industriesTitle: "Ø§ÙÙØ·Ø§Ø¹Ø§Øª Ø§ÙØªÙ ÙØ®Ø¯ÙÙØ§",
      eventsTitle: "Ø§ÙÙØ¹Ø§ÙÙØ§Øª",
      eventsText: "Ø§ÙÙØ¤ØªÙØ±Ø§Øª ÙØ§ÙÙØ¹Ø§Ø±Ø¶ ÙØ§ÙÙÙØ§Ø³Ø¨Ø§Øª Ø§ÙØ®Ø§ØµØ©",
      industrialTitle: "ØµÙØ§Ø¹Ù",
      industrialText: "Ø§ÙÙØµØ§ÙØ¹ ÙØ§ÙÙØ³ØªÙØ¯Ø¹Ø§Øª ÙØ§ÙÙØ±Ø§ÙÙ Ø§ÙØµÙØ§Ø¹ÙØ©",
      trainedTitle: "ÙØ­ØªØ±ÙÙÙ ÙØ¯Ø±Ø¨ÙÙ",
      trainedText: "ÙØ®Ø¶Ø¹ ÙÙØ¸ÙÙÙØ§ ÙØªØ¯Ø±ÙØ¨ ÙÙØ«Ù ÙØªÙØ¯ÙÙ Ø®Ø¯ÙØ© Ø¹Ø§ÙÙØ© Ø§ÙØ¬ÙØ¯Ø© ÙÙØªÙØ§Ø³ÙØ©.",
      customTitle: "Ø­ÙÙÙ ÙØ®ØµØµØ©",
      customText: "ÙØ·ÙØ± Ø¨Ø±Ø§ÙØ¬ ÙØµÙÙØ© Ø®ØµÙØµØ§Ù ÙØªÙØ¨ÙØ© Ø§Ø­ØªÙØ§Ø¬Ø§ØªÙÙ ÙÙØªØ·ÙØ¨Ø§ØªÙÙ.",
      phoneButton: "Ø§ØªØµÙ Ø¨ÙØ§ Ø§ÙØ¢Ù",
      whatsappButton: "ÙØ§ØªØ³Ø§Ø¨"
    }
  };

  // Function to switch language
  function switchLanguage(lang) {
    const t = translations[lang];
    
    // Update document direction and language
    document.documentElement.dir = t.dir;
    document.documentElement.lang = lang;
    document.body.dir = t.dir;

    // Update all elements
    Object.keys(elements).forEach(key => {
      const element = elements[key];
      if (element) {
        if (key.includes('input')) {
          element.placeholder = t[key];
        } else {
          element.textContent = t[key];
        }
      }
    });

    // Update button text
    const btnTextSpan = langBtn.querySelector('span');
    if (btnTextSpan) {
      btnTextSpan.textContent = t.langBtnText;
    }
    
    // Update selected state
    langOptions.forEach(option => {
      option.setAttribute('aria-selected', option.dataset.lang === lang);
    });
    
    // Save language preference
    localStorage.setItem('preferredLanguage', lang);
    
    // Hide dropdown
    toggleDropdown(false);
  }

  // Language button click handler
  langBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    const isExpanded = langBtn.getAttribute('aria-expanded') === 'true';
    toggleDropdown(!isExpanded);
  });

  // Language option click handlers
  langOptions.forEach(option => {
    option.addEventListener('click', (e) => {
      e.stopPropagation();
      switchLanguage(option.dataset.lang);
    });
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', (e) => {
    if (!langBtn.contains(e.target) && !langList.contains(e.target)) {
      toggleDropdown(false);
    }
  });

  // Close dropdown when pressing Escape
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      toggleDropdown(false);
    }
  });

  // Handle navigation button clicks
  const homeBtn = document.getElementById("nav-home");
  if (homeBtn) {
    homeBtn.addEventListener("click", () => {
      window.location.href = "index.html";
    });
  }

  const aboutBtn = document.getElementById("nav-about");
  if (aboutBtn) {
    aboutBtn.addEventListener("click", () => {
      const aboutSection = document.querySelector(".about-section");
      if (aboutSection) {
        aboutSection.scrollIntoView({ behavior: "smooth" });
      } else {
        window.location.href = "index.html#about";
      }
    });
  }

  const contactBtn = document.getElementById("nav-contact");
  if (contactBtn) {
    contactBtn.addEventListener("click", () => {
      const contactSection = document.querySelector(".contact");
      if (contactSection) {
        contactSection.scrollIntoView({ behavior: "smooth" });
      } else {
        window.location.href = "index.html#contact";
      }
    });
  }

  // Initialize with saved language preference or default to English
  const savedLanguage = localStorage.getItem('preferredLanguage') || 'eng';
  switchLanguage(savedLanguage);
});
